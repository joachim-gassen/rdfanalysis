<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="This experimental in-development package provides a set of functions 
    to develop data analysis code that systematically documents researcher degrees 
    of freedom when conducting analyses on observational data. 
    The resulting code base is self-documenting, supports unit testing and power
    simulations based on simulated data. The documented researcher degrees of 
    freedom can be exhausted to generate a distribution of outcome estimates.">
<title>Researcher Degrees of Freedom Analysis • rdfanalysis</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Researcher Degrees of Freedom Analysis">
<meta property="og:description" content="This experimental in-development package provides a set of functions 
    to develop data analysis code that systematically documents researcher degrees 
    of freedom when conducting analyses on observational data. 
    The resulting code base is self-documenting, supports unit testing and power
    simulations based on simulated data. The documented researcher degrees of 
    freedom can be exhausted to generate a distribution of outcome estimates.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-119053376-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-119053376-1');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">rdfanalysis</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/analyzing_rdf.html">Analyzing Researcher Degrees of Freedom: A Case Study</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://www.github.com/joachim-gassen/rdfanalysis">
    <span class="fa fa-github"></span>
     
    Code repository
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><p>Joachim Gassen</p>
<div class="section level1">
<div class="page-header"><h1 id="researcher-degrees-of-freedom-analysis">Researcher Degrees of Freedom Analysis<a class="anchor" aria-label="anchor" href="#researcher-degrees-of-freedom-analysis"></a>
</h1></div>
<div class="section level2">
<h2 id="a-package-to-explore-and-document-your-degrees-of-freedom">A package to explore and document your degrees of freedom<a class="anchor" aria-label="anchor" href="#a-package-to-explore-and-document-your-degrees-of-freedom"></a>
</h2>
<p>This in-development package provides a coding infrastructure that allows researchers to systematically document and explore their researcher degrees of freedom when conducting analyses on observational data. The resulting code base is self-documenting, supports unit testing and power simulations based on simulated data. The documented researcher degrees of freedom can be exhausted to generate a distribution of outcome estimates.</p>
<div class="section level3">
<h3 id="new-plot-a-specification-curve">New: Plot a specification curve<a class="anchor" aria-label="anchor" href="#new-plot-a-specification-curve"></a>
</h3>
<p>The below displays a specification curve (<a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2694998" class="external-link">Simonsohn, Simmons and Nelson</a>) based on an systematic exploration of the Preston curve. It summarizes 11,264 regressions in one plot. See this <a href="https://joachim-gassen.github.io/2019/04/11264-regressions-in-one-tidy-plot/" class="external-link">blog article</a> and this <a href="https://joachim-gassen.github.io/rdfanalysis/articles/analyzing_rdf.html" class="external-link">vignette</a> for more detail. While the code works with the result data frame created following the procedure below, it also works on data frames that contain choices and coefficient estimates created by other means.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># devtools::install_github("joachim-gassen/rdfanalysis")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://joachim-gassen.github.io/rdfanalysis" class="external-link">rdfanalysis</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/load.html" class="external-link">load</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">url</a></span><span class="op">(</span><span class="st">"https://joachim-gassen.github.io/data/rdf_ests.RData"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/plot_rdf_spec_curve.html">plot_rdf_spec_curve</a></span><span class="op">(</span><span class="va">ests</span>, <span class="st">"est"</span>, <span class="st">"lb"</span>, <span class="st">"ub"</span><span class="op">)</span> </span></code></pre></div>
<p><img src="reference/figures/spec_curve-1.png"><!-- --></p>
</div>
<div class="section level3">
<h3 id="even-newer-let-your-researchers-degrees-of-freedom-shine">Even newer: Let your researcher’s degrees of freedom shine!<a class="anchor" aria-label="anchor" href="#even-newer-let-your-researchers-degrees-of-freedom-shine"></a>
</h3>
<p>To explore your specification curve you can also use a shiny frontend that is included with the package. If you use the coding infrastructure from the package it even allows you to interactively explore your findings from a single regression output to the full specification curve. <a href="https://jgassen.shinyapps.io/shiny_rdf_spec_curve" class="external-link">See for yourself</a>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># devtools::install_github("joachim-gassen/rdfanalysis")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://joachim-gassen.github.io/rdfanalysis" class="external-link">rdfanalysis</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/load.html" class="external-link">load</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">url</a></span><span class="op">(</span><span class="st">"https://joachim-gassen.github.io/data/rdf_ests.RData"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># The following is based on having a local fork of the repo. See the</span></span>
<span><span class="co"># vignettes of the package to learn more about how to use the full</span></span>
<span><span class="co"># rdfanalsis package.</span></span>
<span></span>
<span><span class="va">design</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/define_design.html">define_design</a></span><span class="op">(</span>steps <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"read_data"</span>,</span>
<span>                                  <span class="st">"select_idvs"</span>,</span>
<span>                                  <span class="st">"treat_extreme_obs"</span>,</span>
<span>                                  <span class="st">"specify_model"</span>,</span>
<span>                                  <span class="st">"est_model"</span><span class="op">)</span>,</span>
<span>                        rel_dir <span class="op">=</span> <span class="st">"vignettes/case_study_code"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/shiny_rdf_spec_curve.html">shiny_rdf_spec_curve</a></span><span class="op">(</span><span class="va">ests</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"est"</span>, <span class="st">"lb"</span>, <span class="st">"ub"</span><span class="op">)</span>,</span>
<span>                     <span class="va">design</span>, <span class="st">"vignettes/case_study_code"</span>,</span>
<span>                     <span class="st">"https://joachim-gassen.github.io/data/wb_new.csv"</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="articles/shiny_rdf_spec_curve.gif" alt=""><p class="caption">A Shiny Specification Curve</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="a-package-tour">A Package Tour<a class="anchor" aria-label="anchor" href="#a-package-tour"></a>
</h2>
<p>To provide a quick tour of the full package and its workflow I will use a “research design” where an independent variable x is confounded by a co-variate z and where the only researcher degree of freedom is whether to control for z in the regression setup. We will ignore the testing bit in this quick walk-through.</p>
<p>For a more in-depth introduction into the package, please refer to the <a href="https://joachim-gassen.github.io/rdfanalysis/articles/analyzing_rdf.html" class="external-link">vignette included in the documentation</a>.</p>
<div class="section level3">
<h3 id="step-1-open-a-new-rstudio-project-in-a-clean-directory-and-install-the-rdfanalysis-package">Step 1: Open a new Rstudio project in a clean directory and install the <code>rdfanalysis</code> package<a class="anchor" aria-label="anchor" href="#step-1-open-a-new-rstudio-project-in-a-clean-directory-and-install-the-rdfanalysis-package"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"joachim-gassen/rdfanalysis"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://joachim-gassen.github.io/rdfanalysis" class="external-link">rdfanalysis</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="step-2-write-a-function-that-simulates-data">Step 2: Write a function that simulates data<a class="anchor" aria-label="anchor" href="#step-2-write-a-function-that-simulates-data"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim_data</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">n</span>, <span class="va">effect_size</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span></span>
<span>  <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span> <span class="op">+</span> <span class="va">z</span> </span>
<span>  <span class="va">y</span> <span class="op">&lt;-</span> <span class="va">effect_size</span><span class="op">*</span><span class="va">x</span> <span class="op">+</span> <span class="va">z</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">y</span>, z <span class="op">=</span> <span class="va">z</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="step-3-define-your-research-design-by-a-series-of-functions">Step 3: Define your research design by a series of functions<a class="anchor" aria-label="anchor" href="#step-3-define-your-research-design-by-a-series-of-functions"></a>
</h3>
<p>Each research design consists of a series of steps. Each step becomes a function. To initialize these functions, you can use the call <code><a href="reference/define_design.html">define_design()</a></code>. It creates a <code>code</code> directory in your current working directory and produces template code for each step. In this case, our design will have only one step.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">design</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/define_design.html">define_design</a></span><span class="op">(</span><span class="st">"est_model"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="step-4-develop-your-code-for-each-step">Step 4: Develop your code for each step<a class="anchor" aria-label="anchor" href="#step-4-develop-your-code-for-each-step"></a>
</h3>
<p>Edit the resulting template file <code>est_model.R</code> in the code directory until it looks like the code below.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">est_model</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span> <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">choice</span> <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">step_description</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"## Estimate model"</span>,</span>
<span>    <span class="st">"### Content"</span>,</span>
<span>    <span class="st">""</span>,</span>
<span>    <span class="st">"This step estimates on OLS model based on simulated data."</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="va">choice_description</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"### Choice"</span>,</span>
<span>    <span class="st">""</span>,</span>
<span>    <span class="st">"A character value `control_for_z` that may take one of the following values:"</span>,</span>
<span>    <span class="st">""</span>,</span>
<span>    <span class="st">"- `yes`: control for z"</span>,</span>
<span>    <span class="st">"- `no`: do not control for z"</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="va">choice_type</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"control_for_z"</span>, </span>
<span>         type <span class="op">=</span> <span class="st">"character"</span>, </span>
<span>         valid_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"yes"</span>, <span class="st">"no"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">choice</span><span class="op">)</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    step_description <span class="op">=</span> <span class="va">step_description</span>,</span>
<span>    choice_description <span class="op">=</span> <span class="va">choice_description</span>,</span>
<span>    choice_type <span class="op">=</span> <span class="va">choice_type</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="kw">else</span> <span class="fu"><a href="reference/check_choice.html">check_choice</a></span><span class="op">(</span><span class="va">choice</span>, <span class="va">choice_type</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co"># ___ Analysis code starts below ___</span></span>
<span>  <span class="kw">if</span><span class="op">(</span><span class="va">choice</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">==</span> <span class="st">"yes"</span><span class="op">)</span> </span>
<span>    <span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x</span> <span class="op">+</span> <span class="va">z</span>, data <span class="op">=</span> <span class="va">input</span><span class="op">)</span></span>
<span>  <span class="kw">else</span>     <span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x</span>, data <span class="op">=</span> <span class="va">input</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      est <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod</span><span class="op">)</span><span class="op">$</span><span class="va">coefficient</span><span class="op">[</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">]</span>,</span>
<span>      lb <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/confint.html" class="external-link">confint</a></span><span class="op">(</span><span class="va">mod</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">]</span>,</span>
<span>      ub <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/confint.html" class="external-link">confint</a></span><span class="op">(</span><span class="va">mod</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">]</span></span>
<span>    <span class="op">)</span>,</span>
<span>    protocol <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">choice</span><span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">)</span>  </span>
<span><span class="op">}</span> </span></code></pre></div>
</div>
<div class="section level3">
<h3 id="step-5-source-your-code">Step 5: Source your code<a class="anchor" aria-label="anchor" href="#step-5-source-your-code"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/source_design.html">source_design</a></span><span class="op">(</span><span class="va">design</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="step-6-test-your-code">Step 6: Test your code<a class="anchor" aria-label="anchor" href="#step-6-test-your-code"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/test_design.html">test_design</a></span><span class="op">(</span><span class="va">design</span>, input <span class="op">=</span> <span class="fu">sim_data</span><span class="op">(</span><span class="fl">100</span>, <span class="fl">0.1</span><span class="op">)</span>, reporter <span class="op">=</span> <span class="st">"minimal"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="do">## ........................</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="step-7-document-your-design">Step 7: Document your design<a class="anchor" aria-label="anchor" href="#step-7-document-your-design"></a>
</h3>
<p>The below serves documentation purposes. The function <code><a href="reference/prepare_design_documentation.html">prepare_design_documentation()</a></code> generates a PDF file in your project directory that documents your code. For it to work you need a local <code>R Markdown</code> installation that is capable to produce PDF files.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/prepare_design_documentation.html">prepare_design_documentation</a></span><span class="op">(</span><span class="va">design</span>, output_file <span class="op">=</span> <span class="st">"my_design.pdf"</span><span class="op">)</span></span></code></pre></div>
<p><code><a href="reference/prepare_design_flow_chart.html">prepare_design_flow_chart()</a></code> produces a quick visual of the code flow.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/prepare_design_flow_chart.html">prepare_design_flow_chart</a></span><span class="op">(</span><span class="va">design</span>, landscape <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/flow_chart-1.png"><!-- --></p>
</div>
<div class="section level3">
<h3 id="step-8-run-a-single-protocol-of-choices">Step 8: Run a single protocol of choices<a class="anchor" aria-label="anchor" href="#step-8-run-a-single-protocol-of-choices"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">sim_data</span><span class="op">(</span><span class="fl">100</span>, <span class="fl">0.1</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">est_model</span><span class="op">(</span><span class="st">"yes"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="do">## $data</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="do">## $data$est</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 0.1762571</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="do">## $data$lb</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] -0.03138844</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="do">## $data$ub</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 0.3839027</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="do">## </span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="do">## $protocol</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="do">## $protocol[[1]]</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] "yes"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="step-9-assess-the-power-of-your-analysis-for-a-certain-protocol">Step 9: Assess the power of your analysis for a certain protocol<a class="anchor" aria-label="anchor" href="#step-9-assess-the-power-of-your-analysis-for-a-certain-protocol"></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">power_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/simulate_design_power.html">simulate_design_power</a></span><span class="op">(</span><span class="va">design</span>, protocol <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"yes"</span><span class="op">)</span>, </span>
<span>                                  input_sim_func <span class="op">=</span> <span class="va">sim_data</span>, </span>
<span>                                  range_n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">1000</span>, <span class="fl">100</span><span class="op">)</span>,</span>
<span>                                  effect_size <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="va">power_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>power <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">lb</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">n</span>, y <span class="op">=</span> <span class="va">power</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/sim_power-1.png"><!-- --></p>
</div>
<div class="section level3">
<h3 id="step-10-exhaust-your-researcher-degrees-of-freedom">Step 10: Exhaust your researcher degrees of freedom<a class="anchor" aria-label="anchor" href="#step-10-exhaust-your-researcher-degrees-of-freedom"></a>
</h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/exhaust_design.html">exhaust_design</a></span><span class="op">(</span><span class="va">design</span>, <span class="fu">sim_data</span><span class="op">(</span><span class="fl">1000</span>, <span class="fl">0.1</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">kable</span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">control_for_z</th>
<th align="right">est</th>
<th align="right">lb</th>
<th align="right">ub</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">yes</td>
<td align="right">0.1372860</td>
<td align="right">0.078503</td>
<td align="right">0.1960689</td>
</tr>
<tr class="even">
<td align="left">no</td>
<td align="right">0.5653054</td>
<td align="right">0.513296</td>
<td align="right">0.6173148</td>
</tr>
</tbody>
</table>
<p>Only two researcher degrees of freedom in this setting but you will easily get into the thousands in a real research setting. For a real-life case study on how to use <code>rdfanalysis</code>, please refer to the <a href="https://joachim-gassen.github.io/rdfanalysis/articles/analyzing_rdf.html" class="external-link">vignette included in the documentation</a>.</p>
</div>
</div>
<div class="section level2">
<h2 id="project-funding">Project Funding<a class="anchor" aria-label="anchor" href="#project-funding"></a>
</h2>
<p>This is a project of the <a href="https://www.accounting-for-transparency.de/projects/open-science-data-center/" class="external-link">Open Science Data Center</a> and funded by the <a href="https://www.dfg.de/en/index.jsp" class="external-link">Deutsche Forschungsgemeinschaft (DFG, German Research Foundation)</a>: <a href="https://www.accounting-for-transparency.de" class="external-link">Project-ID 403041268 – TRR 266 Accounting for Transparency</a>.</p>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/joachim-gassen/rdfanalysis/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/joachim-gassen/rdfanalysis/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing rdfanalysis</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Joachim Gassen <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-4364-2911" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Joachim Gassen.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
